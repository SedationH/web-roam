## 什么是编译器

编译器是一个程序，其核心功能是把源代码翻译成目标代码

- 源代码
  - C/C++, JAVA, C#, html ...
- 目标代码
  - x86, ARM ...



编译器 via 静态计算 -> 目标程序

目标程序 via 动态计算 -> 计算结果



解释器 也是一种特殊的编译器，关键在于代码运行时是否需要再编译处理

第一个编译器是Fortran语言的编译器



## 编译器的结构

编译器是一个复杂程序，我们通过模块化提高可维护性



词法分析 -> 语法分析 -> 语义分析 -> 中间代码生成 -> 代码优化 -> 目标代码生成

贯穿起始都有符号表和错误处理程序的参与



大体分为前端后端

- 前端处理目标语言
- 后端处理指令集与目标机器
- 两者通过AST建立映射联系，降低耦合（Low coupling）



## 实例

源语言Sum:

语法形式:

- 整型数字：n
- 加法：e1 + e2



目标机：栈式计算机

特点：

- 有一个操作数栈
- 两个指令
  - push n
  - add



如有

input: 2 + 3 + 5

via compiler

output: 

```伪代码
push 2
push 3
add
push 5
add
```

考虑实现 tip:构建树，后续遍历