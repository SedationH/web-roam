以问题作为标题

碎片化记录遇到的问题

为体系化整理提供资料



## When working with text nodes should I use the “data”, “nodeValue”, “textContent” or “wholeText” field? | innerHTML innerText 

![image-20201109172822380](http://picbed.sedationh.cn/image-20201109172822380.png)

在获取的Text文本内容中，貌似都是一样的

> Of all these I'd choose data: it is defined for the nodes implementing CharacterData interface (Text and Comment ones) only. Trying to access this property for the others gives undefined.
>
> nodeValue is essentially the same as data for text nodes, but is actually defined for attribute and comment nodes as well. And I usually want my programs to fail early. )
>
> textContent is, for me, something completely different, as it represents the text content of a node and its descendants. This, along with wholeText, perhaps should be used more to collect texts from more complex structures than a single text node.
>
> Said all that, textContent and wholeText were defined in DOM Level 3 (= more modern).

单独的文本节点处理 使用nodeValue就好,效果合适，最小依赖使用

| Node                                                         | Value of nodeValue                  |
| :----------------------------------------------------------- | :---------------------------------- |
| [`CDATASection`](dfile:///Users/sedationh/Library/Application Support/Dash/DocSets/JavaScript/JavaScript.docset/Contents/Resources/Documents/developer.mozilla.org/en-US/docs/Web/API/CDATASection.html) | Content of the CDATA section        |
| [`Comment`](dfile:///Users/sedationh/Library/Application Support/Dash/DocSets/JavaScript/JavaScript.docset/Contents/Resources/Documents/developer.mozilla.org/en-US/docs/Web/API/Comment.html) | Content of the comment              |
| [`Document`](dfile:///Users/sedationh/Library/Application Support/Dash/DocSets/JavaScript/JavaScript.docset/Contents/Resources/Documents/developer.mozilla.org/en-US/docs/Web/API/Document.html) | `null`                              |
| [`DocumentFragment`](dfile:///Users/sedationh/Library/Application Support/Dash/DocSets/JavaScript/JavaScript.docset/Contents/Resources/Documents/developer.mozilla.org/en-US/docs/Web/API/DocumentFragment.html) | `null`                              |
| [`DocumentType`](dfile:///Users/sedationh/Library/Application Support/Dash/DocSets/JavaScript/JavaScript.docset/Contents/Resources/Documents/developer.mozilla.org/en-US/docs/Web/API/DocumentType.html) | `null`                              |
| [`Element`](dfile:///Users/sedationh/Library/Application Support/Dash/DocSets/JavaScript/JavaScript.docset/Contents/Resources/Documents/developer.mozilla.org/en-US/docs/Web/API/Element.html) | `null`                              |
| [`NamedNodeMap`](dfile:///Users/sedationh/Library/Application Support/Dash/DocSets/JavaScript/JavaScript.docset/Contents/Resources/Documents/developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap.html) | `null`                              |
| `EntityReference`                                            | `null`                              |
| [`Notation`](dfile:///Users/sedationh/Library/Application Support/Dash/DocSets/JavaScript/JavaScript.docset/Contents/Resources/Documents/developer.mozilla.org/en-US/docs/Web/API/Notation.html) | `null`                              |
| [`ProcessingInstruction`](dfile:///Users/sedationh/Library/Application Support/Dash/DocSets/JavaScript/JavaScript.docset/Contents/Resources/Documents/developer.mozilla.org/en-US/docs/Web/API/ProcessingInstruction.html) | Entire content excluding the target |
| [`Text`](dfile:///Users/sedationh/Library/Application Support/Dash/DocSets/JavaScript/JavaScript.docset/Contents/Resources/Documents/developer.mozilla.org/en-US/docs/Web/API/Text.html) | Content of the text node            |



Text.wholeText 包含临近的Text nodes

> The **`Text.wholeText`** read-only property returns the full text of all [`Text`](https://developer.mozilla.org/en-US/docs/Web/API/Text) nodes logically adjacent to the node. The text is concatenated in document order. This allows to specify any text node and obtain all adjacent text as a single string.



Given this HTML fragment:

```html
<div id="divA">This is <span>some</span> text!</div>
```

... you can use `textContent` to get the element's text content:

```js
let text = document.getElementById('divA').textContent;
// The text variable is now: 'This is some text!'
```

... or set the element's text content:

```js
document.getElementById('divA').textContent = 'This text is different!';
// The HTML for divA is now:
// <div id="divA">This text is different!</div>
```



另外，看看jq对Text的处理

https://api.jquery.com/text/