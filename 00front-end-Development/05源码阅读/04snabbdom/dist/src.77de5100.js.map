{"version":3,"sources":["lib/snabbdom/utils.ts","lib/snabbdom/vnode.ts","lib/snabbdom/h.ts","lib/snabbdom/index.ts","index.ts"],"names":[],"mappings":";AAAA;;;;;AIAA,AHuCA,IGvCA,AHuCM,UGvCN,AHuCgB,GGvChB,AHuCmB,MAAM,CGvCzB,AHuC0B,CGvC1B,aHuCyB,CAAzB,EGvCA,CAAA;AHwE+B,OAAA,CAAA,UAAA,GAAA,UAAA;AGtE/B,IAAM,KAAK,GAAG,UAAA,CAAA,CAAA,CAAE,KAAF,EAAS;AAAE,AHuCzB,EGvCyB,EAAE,EAAE,GHuCpB,KAAT,CACE,IADF,EAEE,GAFF,EAGE,IAHF,EAIE,QAJF,EAKE,IALF,EAME,GANF,EAMiC;AG7CV,AH+CrB,CG/CY,EAA8B,CAC1C,KH8CO,KG9CP,CAAA,CAAA,CACE,MADF,EAEE;AAAE,AJDO,AC8CT,EG7CE,EH6CF,GG7CO,AJDE,CAAA,CICA,CH6CH,EAAE,GD9CC,GAAU,IC6Cd,CD7CmB,CAAC,OAAhB;AICE,AFLf,ADmDI,IG9CW,AFLf,ADmDI,IAAI,EAAA,CCnDR,GEKyB,AFLzB,ADiDS,EG5CkB,KFL3B,CAAA,SAAA,CAAA;AEKa,ADJb,AHKa,AC8CT,IEnDJ,AFmDI,GEnDJ,AHKa,AC8CN,CD9CM,CC8CN,CEnDP,EFgDS,OD3CI,GAAc,GGL3B,CAAA,MHK4B,CGL5B,CAAA,CHK2B,EAAI,EGL/B,CAAA,CAAA;ACII,AFJJ,AFME,AC8CE,CGlDF,EAGE,CFLJ,ADoDI,ED9CI,EC8CA,ED9CI,AC8CJ,CCpDR,GAAA,ADgDS,GG9CP,CAD0C,EAM1C,CJDoB,GAAV,CAAV,IENF,CAAA,OAAA,CAAA,SAAA,CAAA,CAAA,EEC4C,EAO1C,UAAA,CAAA,CAAA,CACE,GADF,EAEE;AACE,ADVN,AFoDI,EG1CE,EDVN,AFoDI,GG1CO,ADVX,ECUa,CDVb,EFoDY,EAAA,GEpDZ,CAAA,IF+CS,CE/CT,CAAA;ACUe,AFTf,AFKE,AC+CE,IG3CW,AFTT,ADoDF,IG3Ce,AH2CX,CD/CC,CIIY,AH2Cb,GD/CK,CELG,AD8CP,GC9CU,CFKD,QELZ,AFKG,IAAqB,IAAI,EELf,CAAC,EFKmB,CELpB,EAAI,KFKrB;AIIW,AFTe,ACDnB,AHOR,AC+CG,CDlDS,GCkDT,EEtDK,CAAA,AFsDF,ECrDqB,ADqDrB,MCrD2B,CAAC,IAAP,CAAY,ACD/B,CAAA,EDCmB,CAAA,ICDnB,EAAA,GAAA,EAAA;ACSL,AFRwC,ACDnC,AF+CA,CGxCP,AFNF,CCDS,CCYL,AHmCF,SE/CO,EAAA,IAAA,QCOP,CAP0C,CAA9B,CAAd;AAgBA,ADhBS,AHSI,AC+CZ,EExDQ,GAAA,ECgBF,ADhBE,AHSI,CIOL,AJPK,GIOb,CAAY,KAAZ,GJPa,EGTJ,CHSmB,UAAC,KAAD,EAAM;AENlC,ACHS,AHUP,SEPO,AFOA,CEPT,CACE,ACJO,GHUK,CEPd,AFOe,EELb,MAFF,CFOS,CELU,AFKM,CGVhB,CAAA,GAAA,CAAA,AHUA,CGVA,AHUuB,KAAvB,CAA6B,CGV7B,CHUA,EAAiC,KAAjC,CAAP;AEJA,ACNc,AHWf,AC+CD,CDjDa,KEHX,GDoDO,KCpDP,EDoDF,CCpDE,ADoDe,ECpDf,GDoDF,EAA6B;AE1DpB,AF2DP,CE3DO,QF2DA,KAAK,IAAI,KAAK,CAAC,MAAN,KAAiB,UAAjC;AEzDF,AF0DC,OCtDC,ACJF,CAAA,GDIE,EAAA,ECJF,CDIE,ECJa,CDIb,EAAA,GAAA,SAAA,CAAA,QAAA,EAAA,IAAW;AAAX,ACJe,EAAA,CAAC,CDIhB,CCJgB,GAAA,CAAA,GDIhB,CAAA,EAAA,GAAA,CAAA,CAAA,GAAA,SAAA,CAAA,EAAA,CAAA;ACJa,AFoEN,CEpET,MFoES,CAAA,OAAA,GAAA,OAAA;;AC9DP,ADsDF,MCtDQ,GAAG,ADsDF,GCtDK,MAAM,EDsDpB,CAAqB,ECtDD,IAAN,EDsDd,ECtDc,ADsDwB,KAAtC,CCtDoB,CDsD8B,ICtD9B,KAAA,CAAN,GAAM,KAAA,CAAN,GAAA,MAAM,CAAE,GAApB;AACA,ADsDA,MCtDM,GDuDJ,CCvDQ,GAAc,EAAxB,EDuDU,CAAC,GAAT,KAAiB,KAAK,CAAC,GAAvB,IACA,QAAQ,CAAC,IAAT,KAAkB,KAAK,CAAC,IAF1B;AAID;ACzDC,OAAuB,IAAA,EAAA,GAAA,CAAA,EAAA,EAAA,GAAA,UAAU,CAAC,MAAD,CAAjC,EAAuB,EAAA,GAAA,EAAA,CAAA,MAAvB,EAAuB,EAAA,EAAvB,EAA2C;AAAtC,AD4DW,OAAA,CC5DL,AD4DK,QC5DG,GAAA,AD4DH,EC5DG,CAAA,AD4DH,EC5DG,CAAd,QD4DW;AC3Dd,AD0DJ,IC1DI,GD0DJ,CC1DQ,AD0DR,CC1DS,MD0DT,EC1DQ,CAAJ,AD0DW,GC1DM,ED0DrB,IC1D2B,CAAC,QAAD,CAAvB;AACD;;AACD,SAAO,OAAA,CAAA,OAAA,CACL,IADK,EAEL,GAFK,EAGL,IAHK,EAIL,OAAA,CAAA,YAAA,CAAa,QAAb,EAAuB,GAAvB,CAA2B,UAAC,CAAD,EAAE;AAC3B,WAAO,OAAA,CAAA,WAAA,CAAY,CAAZ,IACH,OAAA,CAAA,OAAA,CACE,SADF,EAEE,SAFF,EAGE,SAHF,EAIE,SAJF,EAKE,CALF,EAME,SANF,CADG,GASH,CATJ;AAUD,GAXD,CAJK,EAgBL,SAhBK,EAiBL,SAjBK,CAAP;AAmBD;;AAED,OAAA,CAAA,OAAA,GAAe,CAAf","file":"src.77de5100.js","sourceRoot":"../src","sourcesContent":["/**\n * 一些工具函数\n */\n\nexport const isArray = Array.isArray\n\nexport const isPrimitive = (val) => {\n  const type = typeof val\n  return type === \"number\" || type === \"string\"\n}\n\nexport const flattenArray = (array): Array<any> => {\n  return Array.prototype.concat.apply([], array)\n}\n","type Key = string | number\ntype Attrs = Record<string, string | number | boolean>\ntype Props = Record<string, any>\ntype Classes = Record<string, boolean>\ntype On = {\n  [N in keyof HTMLElementEventMap]?: (\n    ev: HTMLElementEventMap[N]\n  ) => void\n} & {\n  [event: string]: EventListener\n}\ntype Dataset = Record<string, string>\ntype VNodeStyle = Record<string, string> & {\n  delayed?: Record<string, string>\n  remove?: Record<string, string>\n}\n\nexport interface VNode {\n  // sel: string | undefined\n  __type: symbol\n  type: string | undefined\n  key: Key | undefined\n  data: VNodeData | undefined\n  children: Array<VNode | string> | undefined\n  text: string | undefined\n  elm: Node | undefined\n}\n\nexport interface VNodeData {\n  id?: string\n  props?: Props\n  attrs?: Attrs\n  class?: Classes\n  style?: VNodeStyle\n  dataset?: Dataset\n  on?: On\n  key?: Key\n}\n\nconst VNODE_TYPE = Symbol(\"virtual-node\")\n\nfunction vnode(\n  type: string | undefined,\n  key: string | undefined,\n  data: any | undefined,\n  children: Array<VNode | string> | undefined,\n  text: string | undefined,\n  elm: Element | Text | undefined\n): VNode {\n  return {\n    __type: VNODE_TYPE,\n    type,\n    key,\n    data,\n    children,\n    text,\n    elm,\n  }\n}\n\nfunction isVnode(vnode: VNode) {\n  return vnode && vnode.__type === VNODE_TYPE\n}\n\nfunction isSameVnode(oldVnode: VNode, vnode: VNode) {\n  return (\n    oldVnode.key === vnode.key &&\n    oldVnode.type === vnode.type\n  )\n}\n\nexport default vnode\nexport { isVnode, isSameVnode, VNODE_TYPE }\n","import { isArray, isPrimitive, flattenArray } from \"./utils\"\nimport vnode, { VNode, VNodeData } from \"./vnode\"\n\nconst getObjKeys = (obj) => Object.keys(obj)\n\nfunction h(\n  type: string,\n  config: VNodeData,\n  ...children\n): VNode {\n  const key = config?.key\n  const data: VNodeData = {}\n  for (const propName of getObjKeys(config)) {\n    data[propName] = config[propName]\n  }\n  return vnode(\n    type,\n    key as string,\n    data,\n    flattenArray(children).map((c) => {\n      return isPrimitive(c)\n        ? vnode(\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            c,\n            undefined\n          )\n        : c\n    }),\n    undefined,\n    undefined\n  )\n}\n\nexport default h\n","import init from \"./init\"\nimport h from \"./h\"\nexport { default as h } from \"./h\"\n\nexport default { h }\n","import sanbbdom, { h } from \"./lib/snabbdom\"\n\nconst vnode = h(\"div\", { id: \"container\" }, [\n  h(\n    \"span\",\n    { style: { fontWeight: \"bold\" } },\n    \"This is bold\"\n  ),\n  \" and this is just normal text\",\n  h(\n    \"a\",\n    {\n      props: { href: \"/foo\" },\n    },\n    \"I'll take you places!\"\n  ),\n])\n\nconsole.log(vnode)\n"]}